var i=o=>t=>t;import{AstroError as g}from"astro/errors";var f=i("astro:config:setup")(({config:o},{name:t,position:n,relativeTo:r})=>{let e=o.integrations.findIndex(s=>s.name===t);if(e===-1)return!1;if(n===void 0)return!0;if(r===void 0)throw new g("Cannot perform a relative integration check without a relative reference.","Pass `relativeTo` on your call to `hasIntegration` or remove the `position` option.");let a=o.integrations.findIndex(s=>s.name===r);if(a===-1)throw new g("Cannot check relative position against an absent integration.");return n==="before"?e<a:e>a});var l=i("astro:config:setup")((o,{integration:t,ensureUnique:n})=>{let{logger:r,updateConfig:e}=o;if(n&&f(o,{name:t.name})){r.warn(`Integration "${t.name}" has already been added by the user or another integration. Skipping.`);return}e({integrations:[t]})});export{l as addIntegration};
//# sourceMappingURL=add-integration.js.map